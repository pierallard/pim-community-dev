<% if (!associationTypes.length) { %>
    <div class="buffer-top buffer-left">
        <span class="buffer-small-right">
            <%- _.__('pim_enrich.form.product.tab.associations.info.none_exist') %>
        </span>
    </div>
<% } else { %>
    <div class="tabbable">
        <div class="AknSearch">
            <div class="AknSearch-selectors AknButtonList AknButtonList--right">
                <div class="AknDropdown AknButtonList-item nav nav-tabs association-type-selector">
                    <a class="AknActionButton" data-toggle="dropdown" href="#">
                        <%- label %>:
                        <span class="AknActionButton-strong current-association-type">
                            <% current = _.findWhere(associationTypes, { code: currentAssociationType }) %>
                            <%- current.labels[locale] || '[' + current.code + ']' %>
                        </span>
                        <span class="AknActionButton-caret AknCaret"></span>
                    </a>
                    <ul class="AknDropdown-menu AknDropdown-menu--right associations-list">
                        <li class="AknDropdown-menuTitle"><%- label %></li>
                        <% _.each(associationTypes, function (associationType) { %>
                            <li data-association-type="<%- associationType.code %>">
                                <a class="AknDropdown-menuLink <% if (associationType.code === currentAssociationType) { %> AknDropdown-menuLink--active<% } %>" href="#">
                                    <span class="label"><%- associationType.labels[locale] || '[' + associationType.code + ']' %></span>
                                </a>
                            </li>
                        <% }); %>
                    </ul>
                </div>
            </div>
        </div>
        <div class="tab-content">
            <div class="association-product-grid<% if ('products' !== currentAssociationTarget) { %> hide<% } %>">
                <div id="grid-association-product-grid" data-type="datagrid"></div>
            </div>

            <div class="association-group-grid<% if ('groups' !== currentAssociationTarget) { %> hide<% } %>">
                <div id="grid-association-group-grid" data-type="datagrid"></div>
            </div>

            <div class="selection-inputs">
                <% _.each(associationTypes, function (associationType) { %>
                    <input type="hidden" id="<%- associationType.code %>-products-appendfield"/>
                    <input type="hidden" id="<%- associationType.code %>-products-removefield"/>
                    <input type="hidden" id="<%- associationType.code %>-groups-appendfield"/>
                    <input type="hidden" id="<%- associationType.code %>-groups-removefield"/>
                <% }); %>
            </div>
        </div>
    </div>
<% } %>
